
var testCase = require('nodeunit').testCase;
var ImapClient = require('../../lib/imap-client').ImapClient;

//*
var info = {
  host: '',
  port: 143,
  sec: 'tls',
  user: '',
  pass: ''
}
// */

var cl;

function noerr(test) {
  return function(err) {
    test.ok(!err);
    test.done();
  }
}

module.exports = testCase({
  connect: function(test) {
    cl = new ImapClient(info.host, info.port, info.sec, noerr(test));
  },
  caps_noauth: function(test) {
    cl.capability(noerr(test));
  },
  login: function(test) {
    cl.login(info.user, info.pass, noerr(test));
  },
  list: function(test) {
    cl.list('""', '*', noerr(test));
  },
  subscribe: function(test) {
    cl.subscribe('INBOX', noerr(test));
  },
  select: function(test) {
    cl.select('INBOX', noerr(test));
  },
  check: function(test) {
    cl.check(noerr(test));
  },
  examine: function(test) {
    cl.examine('INBOX', noerr(test));
  },
  lsub: function(test) {
    cl.lsub('""', '"*"', noerr(test));
  },
  stat: function(test) {
    cl.status('INBOX', ['MESSAGES', 'RECENT', 'UIDNEXT', 'UIDVALIDITY', 'UNSEEN'], noerr(test));
  },
  create: function(test) {
    cl.create('"INBOX.mybox"', noerr(test));
  },
  append: function(test) {
    cl.append('"INBOX"', ['\\Seen'], '', 'Date: Mon, 7 Feb 1994 21:52:21 -0800 (PST)\r\nFrom: Fred Foobar <foorbar@blurdy.com>\r\nSubject: AHHHH\r\nTo: me@example.com\r\nContent-Type: TEXT/PLAIN; CHARSET=US-ASCII\r\n\r\nHELLO there me, how are things going!!!!!', noerr(test));
  },
  search: function(test) {
    cl.search("CHARSET US-ASCII", '"ALL"', noerr(test));
  },
  fetch: function(test) {
    cl.fetch('1', 'ALL', noerr(test));
  },
  store: function(test) {
    cl.store('1', '+FLAGS', '(\\Seen \\Deleted)', noerr(test));
  },
  copy: function(test) {
    cl.copy('1', 'INBOX.mybox', noerr(test));
  },
  fetch: function(test) {
    cl.fetch('1', 'ALL', noerr(test));
  },
  rename: function(test) {
    cl.rename('INBOX.mybox', 'INBOX.myotherbox', noerr(test));
  },
  'delete': function(test) {
    cl['delete']('"INBOX.myotherbox"', noerr(test));
  },
  unsubscribe: function(test) {
    cl.unsubscribe('INBOX', noerr(test));
  },
  expunge: function(test) {
    cl.expunge(noerr(test));
  },
  close: function(test) {
    cl.close(noerr(test));
  },
  logout: function(test) {
    cl.logout(noerr(test));
  },
 
});
